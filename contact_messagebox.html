<!DOCTYPE html>
<html lang="en">
<head>
<title> Contact Message</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<!-- font awesome 4 -->
<link rel="stylesheet" href="font-awesome.css">
<!--  slick slider css -->
<link rel="stylesheet" href="css/slick-theme.min.css">
<link rel="stylesheet" href="css/slick.css">
<!-- swiper slider -->
<link rel="stylesheet" href="css/swiper-bundle.min.css">
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/responsive.css">
<style>

</style>
</head>
<body>

<header class="l-header">
<div class="l-header__inner clearfix">
<div class="c-header-icon desktopversion_search">
<a href="javascript:void(0)" onclick="openNav()">
<div class="hamburger-toggle">
<span class="bar-top"></span>
<span class="bar-mid">
</span><span class="bar-bot"></span>
</div>
</a>
</div>
<div class="logo">
<div class="logo__txt">
<a href="tenant.html" class="desktopversion_logo"><img src="images/logo.svg"></a>
<div class="mobileversion_view">
<a href="tenant.html"><img src="images/mobile_logo.svg"></a>
</div>
</div>
</div>

<div class="c-search desktopversion_search">
<input class="c-search__input form-control" placeholder="Search" type="text"/>
<button type="submit" class="submt_btn"><i class="fa fa-search"></i>
</button>
</div>

<div class="mobileversion_view txt_heading">
<h3></h3>
</div>

<div class="links">
<ul>
<li class="phone desktopversion_search"> <a href="">
<img src="images/phone.svg"></a>
<div class="count_phone">
<span>4</span>
</div>
</li>
<li class="comment desktopversion_search"> <a href="">
<img src="images/comment.svg"></a>
<div class="count_comment">
<span>5</span>
</div>
</li>
<li class="email desktopversion_search"> <a href="">
<img src="images/email.svg"></a>
<div class="count_email">
<span>6</span>
</div>
</li>
<li class="notify"> <a href="">
<img src="images/notify.svg"></a>
<div class="count_notify">
<span>30</span>
</div>
</li>
</ul>
</div>

<div class="c-header-icon mobileversion_view">
<a href="javascript:void(0)" onclick="openNav()">
<div class="hamburger-toggle">
<span class="bar-top"></span>
<span class="bar-mid">
</span><span class="bar-bot"></span>
</div>
</a>
</div>
</div>
</header>


<div id="mySidenav" class="sidenav">
<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
<div class="topsec_menu">
<div class="profilepic">
<img src="images/menu/profilemenu.svg">
<div class="status status_green">
<span></span>
</div>
</div>
<div class="profiledetails">
<p>Mae Coleman <small>Tenant</small></p>
<a href="">View Profile</a>
</div>
<div class="menu_scanicon">
<img src="images/menu/menu_scan.svg">
</div>
</div>
<div class="c-search menusearch">
<input class="c-search__input form-control" placeholder="Search" type="text"/>
<button type="submit" class="submt_btn"><i class="fa fa-search"></i>
</button>
</div>
<div class="menu_nav">
<a href="myinformation.html">  <img src="images/menu/my_info.svg"> My Information</a>
<a href="#">  <img src="images/menu/communication.svg"> Communications</a>
<a href="my_lease.html">  <img src="images/menu/active_lease.svg"> Active Lease</a>
<a href="#" class="active">  <img src="images/menu/showings.svg"> showings & offers</a>
<a href="#">  <img src="images/menu/maintenance.svg"> Maintenance</a>
<a href="#">  <img src="images/menu/transaction.svg"> Transactions</a>
<a href="#">  <img src="images/menu/benefits.svg"> Benefits</a>
<a href="#">  <img src="images/menu/properties.svg"> Find a Properties</a>
<a href="#">  <img src="images/menu/scanqr.svg"> Scan QR Code</a>
<div class="logoutsec">
<div>
<a href="javascript:void(0);">Logout</a>
</div>
<div>
<button class="btn upgrade_btn">Upgrade</button>
</div>
</div>
</div>
</div>


<main class="l-main">
    <div class="container-fluid">
            <div class="d-flex justify-content-between align-items-center posfixed">
                <div class="bck_arrowdiv">
                    <a href="javascript:void(0);"><img src="images/contact_message/backarrow.svg"></a>
                </div>
                <div class="userprofimg_div d-flex justify-content-between align-items-center">
                    <div class="leftdetailsprofile d-flex justify-content-between align-items-center">
                        <div class="profdetails_user">
                            <img src="images/contact_message/userimg_prof.svg">
                            <div class="status status_green">
                                <span></span>
                            </div>
                        </div>
                            <div class="profname_contacttxt">
                                <h3 class="mb-0">Leasing Agent  <img src="images/contact_message/verify_checked.svg"></h3>
                                <p class="mb-0">my landlord</p>
                        </div>
                    </div>

                    <div class="callemail_dots">
                        <ul class="d-flex justify-content-between list-unstyled mb-0 align-items-center">
                            <li class="mr-2"><a href="javascript:void(0);"><img src="images/contact_message/callic_contact.svg"></a></li>
                            <li class="mr-2"><a href="javascript:void(0);"><img src="images/contact_message/chattext.svg"></a></li>
                            <li class="mr-3"><a href="javascript:void(0);"><img src="images/contact_message/calen_icon.svg"></a></li>
                            <li class="clickdots_prop"><a href="javascript:void(0);"><img src="images/contact_message/dots_contact.svg"></a></li>
                        </ul>
                        
                        <div class="savedproperties_share">
                          <button class="btn btnsave_prop">Share Saved Properties</button>
                        </div>
                    </div>
                </div>
            </div>
<!-- 
            <div class="profimg_centernochat">
              <div class="center-content">
                <img src="images/contact_message/userimg_prof.svg">
                <div class="profileusername">
                  <h3 class="mb-0 mt-2">Aarchi <img src="images/contact_message/verify_checked.svg"></h3>
                </div>
              </div>
            </div> -->


<!-- chat box -->
<div class="chat-container contactchatboxmessage">
    <div class="chat-box" id="contactChatBox">

      <!-- property accept or decline -->
      <!-- <div class="chatbox_accept_decline">
        <div class="filterdate_div d-flex mb-2">
          <div class="leftfilter_img">
            <img src="images/contact_message/propertyimg.svg">
          </div>
          <div class="filter_propertydescrip">
            <div class="propaddr_decrip">
              <p class="mb-0 text-left">1241-123 Main Street Niagara falls, Ontario L3C 0K2</p>
            </div>
            <div class="d-flex justify-content-between">
             <div class="timecontact_div">
                  <p class="mb-1 mt-1"><span><img src="images/contact_message/timecontact.svg">time</span> 06:45 AM</p>
             </div>
             <div class="datecontact_div">
              <p class="mb-1 mt-1"><span><img src="images/contact_message/datecontact.svg">date</span> 10/02/2024</p>
             </div>
            </div>
            <div class="viewdetails_sec">
              <a href="" class="d-block text-left">view details</a>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-between">
          <button class="btn btnaccept">accept</button>
          <button class="btn btndecline">
            Decline
          </button>
        </div>
      </div> -->
      <!-- property accept or decline end-->
    </div>
  
    <!-- Emoji Picker -->
    <div id="contactEmojiPicker">
      <div class="emoji-container" id="contactEmojiContainer"></div>
    </div>
        <!-- Typing indicator -->
<div class="typing-indicator" style="display: none;">
  <span class="dotmessage"></span>
  <span class="dotmessage"></span>
  <span class="dotmessage"></span>
</div>
    <div class="bottombtns_sectioncontact">
        <div class="d-flex justify-content-between">
            <div class="input-area contactarea_msg" id="contactInputArea">
                <button id="contactPlusBtn" class="btn pluscontactbtm"><img src="images/contact_message/mage_plus.svg" /></button>
                <button id="contactMinusBtn" class="btn minuscontactmsg"><img src="images/contact_message/minus_iconchat.svg" /></button>
                <input type="text" id="contactMessageInput" placeholder="Type Message " />
                <button id="contactEmojiBtn" class="btn"><img src="images/contact_message/emoji_main.svg" alt="Emoji" /></button>
            </div>
              <div class="contactdiv">
                <button id="contactSendBtn" class="btn sendbtnchat"><img src="images/contact_message/sendbtn_img.svg" /></button>

              </div>
        </div>

    </div>
    <div class="hidden-buttons hidecontactmsgbtns" id="contactHiddenButtons">
       <ul class="nav nav-tabs d-flex justify-content-center list-unstyled mb-0">
        <li class="nav-item mr-2 galleryimg"><a class="nav-link" data-toggle="tab" href="#gallerytab"><img src="images/contact_message/gallery.svg"></a></li>
        <li class="nav-item mr-2 cameraimg"><a class="nav-link" data-toggle="tab" href="#phototab"><img src="images/contact_message/photomob.svg"></a></li>
        <li class="nav-item dateimg mr-2"><a lass="nav-link" data-toggle="tab" href="#datetab"><img src="images/contact_message/datemob.svg"></a></li>
        <li class="nav-item mapimg mr-2"><a lass="nav-link" data-toggle="tab" href="#maptab"><img src="images/contact_message/mapcontact.svg"></a></li>
        <li class="nav-item userimg"><a lass="nav-link" data-toggle="tab" href="#usercontacttab"><img src="images/contact_message/user_contact.svg"></a></li>
       </ul>
       <div class="tab-content">
        <div class="tab-pane mt-2" id="gallerytab">

          <!-- gallery -->
          <div class="gallery_mainsection">
            <div class="gallerysection d-flex justify-content-between mb-2">
              <div class="imag_gallery_div">
                <img src="images/contact_message/gallery/g1.svg" class="clickable-img">
                <span class="click-count">1</span>
              </div>
              
              <div class="imag_gallery_div">
                <img src="images/contact_message/gallery/g2.svg" class="clickable-img">
                <span class="click-count">2</span>
              </div>
              
              <div class="imag_gallery_div">
                <img src="images/contact_message/gallery/g3.svg" class="clickable-img">
                <span class="click-count">3</span>
              </div>
              
              <div class="imag_gallery_div">
                <img src="images/contact_message/gallery/g4.svg" class="clickable-img">
              </div>
              </div>
  
              <div class="gallerysection d-flex justify-content-between mb-2">
                <div class="imag_gallery_div">
                  <img src="images/contact_message/gallery/g5.svg" class="clickable-img">

                </div>
                
                <div class="imag_gallery_div">
                  <img src="images/contact_message/gallery/g6.svg" class="clickable-img">

                </div>
                
                <div class="imag_gallery_div">
                  <img src="images/contact_message/gallery/g7.svg" class="clickable-img">

                </div>
                
                <div class="imag_gallery_div">
                  <img src="images/contact_message/gallery/g8.svg" class="clickable-img">

                </div>
                </div>
  
                <div class="gallerysection d-flex justify-content-between mb-2">
                  <div class="imag_gallery_div">
                    <img src="images/contact_message/gallery/g1.svg" class="clickable-img">
  
                  </div>
                  
                  <div class="imag_gallery_div">
                    <img src="images/contact_message/gallery/g2.svg" class="clickable-img">
  
                  </div>
                  
                  <div class="imag_gallery_div">
                    <img src="images/contact_message/gallery/g3.svg" class="clickable-img">
  
                  </div>
                  
                  <div class="imag_gallery_div">
                    <img src="images/contact_message/gallery/g4.svg" class="clickable-img">
  
                  </div>
                  </div>
          </div>
        </div> 
        <!-- end of gallery -->

        <!-- photo tab -->
            <div class="tab-pane fade mt-2" id="phototab">

            </div>
      <!-- end of photo tab -->
        

      <!-- date tab -->
              <div class="tab-pane fade" id="datetab">
                <div class="datetab_mainsec mt-2">
                  <div class="d-flex justify-content-end filteric_img mb-2">
                    <a href="javascript:void(0);">Filter <img src="images/contact_message/filteric.svg"></a>
                  </div>
                  <div class="filterdate_div d-flex mb-2">
                    <div class="leftfilter_img">
                      <img src="images/contact_message/propertyimg.svg">
                      <span class="click-countprop">1</span>
                    </div>
                    <div class="filter_propertydescrip">
                      <div class="propaddr_decrip">
                        <p class="mb-0 text-left">1241-123 Main Street Niagara falls, Ontario L3C 0K2</p>
                      </div>
                      <div class="d-flex justify-content-between">
                       <div class="timecontact_div">
                            <p class="mb-1 mt-1"><span><img src="images/contact_message/timecontact.svg">time</span> 06:45 AM</p>
                       </div>
                       <div class="datecontact_div">
                        <p class="mb-1 mt-1"><span><img src="images/contact_message/datecontact.svg">date</span> 10/02/2024</p>
                       </div>
                      </div>
                      <div class="viewdetails_sec">
                        <a href="" class="d-block text-left">view details</a>
                      </div>
                    </div>
                  </div>
  
                  <div class="filterdate_div d-flex mb-2">
                    <div class="leftfilter_img">
                      <img src="images/contact_message/propertyimg.svg">
                    </div>
                    <div class="filter_propertydescrip">
                      <div class="propaddr_decrip">
                        <p class="mb-0 text-left">1241-123 Main Street Niagara falls, Ontario L3C 0K2</p>
                      </div>
                      <div class="d-flex justify-content-between">
                       <div class="timecontact_div">
                            <p class="mb-1 mt-1"><span><img src="images/contact_message/timecontact.svg">time</span> 06:45 AM</p>
                       </div>
                       <div class="datecontact_div">
                        <p class="mb-1 mt-1"><span><img src="images/contact_message/datecontact.svg">date</span> 10/02/2024</p>
                       </div>
                      </div>
                      <div class="viewdetails_sec">
                        <a href="" class="d-block text-left">view details</a>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
                 <!--en of date content -->
      

                 <!-- map or location tab -->
                <div class="tab-pane fade" id="maptab">
                    <div class="maploc_contactdiv mt-2">
                      <ul class="nav nav-tabs d-flex justify-content-between align-items-center mb-2 border-0">
                        <li class="nav-item">
                          <a class="nav-link active" data-toggle="tab" href="#livelocationtab">live location</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" data-toggle="tab" href="#currentlocationtab">current location</a>
                        </li>
                      </ul>
                      
                      <!-- Tab panes -->
                      <div class="tab-content">
                        <div class="tab-pane active" id="livelocationtab">
                          <div class="livelocation_time mt-2">
                              <ul class="d-flex justify-content-between list-unstyled mb-0">
                                  <li class="active">
                                      <button class="btn time_btntxt">15 min</button>
                                  </li>
                                  <li>
                                      <button class="btn time_btntxt">1hr</button>
                                  </li>
                                  <li>
                                      <button class="btn time_btntxt">8hr</button>
                                  </li>
                              </ul>
                          </div>
                        </div>
                        <div class="tab-pane fade" id="currentlocationtab">...</div>
                      </div>
                    </div>
                  </div>

<!-- end of map or location tab -->


<!-- user contact tab -->
                  <div class="tab-pane fade" id="usercontacttab">

                    </div>
  <!-- user contact tab end-->
       </div>
    </div>
  </div><!-- end of chat box -->
</div>

</main>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
   $(document).ready(function () {
    const $toggleButton = $('.clickdots_prop > a');
    const $shareBox = $('.savedproperties_share');

    // Initially hide the shareBox
    $shareBox.hide();

    // Toggle visibility on dots icon click
    $toggleButton.on('click', function (e) {
      e.stopPropagation(); // prevent event from bubbling to document
      $shareBox.toggle();
    });

    // Hide the box if clicking anywhere else
    $(document).on('click', function () {
      $shareBox.hide();
    });

    // Prevent hiding when clicking inside the share box
    $shareBox.on('click', function (e) {
      e.stopPropagation();
    });
  });
</script>



<!-- chat  -->
<script>
  const emojiList = ["üòä", "üòÇ", "üòç", "üò¢", "üòé", "üëç", "üéâ", "‚ù§Ô∏è", "üíî", "üòú"];
  let contactReplyTo = null;
  let contactReplyToElement = null;
  const chatBox = $("#contactChatBox");
  const messageInput = $("#contactMessageInput");
  const typingIndicator = $(".typing-indicator");

  function formattedTime() {
    const now = new Date();
    return now.getHours().toString().padStart(2, "0") + ":" + now.getMinutes().toString().padStart(2, "0");
  }

  function addDateSeparator() {
    const currentDate = new Date().toDateString();
    if ($(".date-separator").last().text() !== currentDate) {
      chatBox.append(`<div class="date-separator">${currentDate}</div>`);
    }
  }

  function autoReply() {
    setTimeout(() => {
      addDateSeparator();
      const replies = ["Okay!", "Got it!", "Interesting...", "Tell me more!", "I agree!", "Let's do it!"];
      const reply = replies[Math.floor(Math.random() * replies.length)];
      chatBox.append(`
        <div class="message received">
          <p>${reply}</p>
          <div class="time-stamp-container">
            <span class="time-stamp">${formattedTime()}</span>
          </div>
        </div>
      `);
      chatBox.scrollTop(chatBox[0].scrollHeight);
    }, 1000);
  }

  function populateEmojis() {
    const container = $("#contactEmojiContainer").empty();
    emojiList.forEach(emoji => {
      container.append(`<span class="emoji">${emoji}</span>`);
    });
  }

  function resetReplyState() {
    contactReplyTo = null;
    contactReplyToElement = null;
    $(".message").removeClass("selected");
  }

  function sendMessage() {
    const message = messageInput.val().trim();
    if (!message) return;

    addDateSeparator();
    let msgHtml = "";

    if (contactReplyTo) {
      $(contactReplyToElement).removeClass("sent received").addClass("reply-box");
      msgHtml = `
        <div class="message sent replied_div">
          ${contactReplyToElement.prop("outerHTML")}
          <div class="msg_chat"><p>${message}</p></div>
          <div class="time-stamp-container">
            <span class="time-stamp">${formattedTime()}</span>
          </div>
        </div>
      `;
    } else {
      msgHtml = `
        <div class="message sent">
          ${message}
          <div class="time-stamp-container">
            <span class="time-stamp">${formattedTime()}</span>
            <span class="ticks single-tick">
              <img src="images/showings/communication/commuication_all/tick_unread.svg">
            </span>
          </div>
        </div>
      `;
    }

    chatBox.append(msgHtml);
    messageInput.val("");
    resetReplyState();
    chatBox.scrollTop(chatBox[0].scrollHeight);
    autoReply();
    typingIndicator.hide();
  }

  // Initial setup
  populateEmojis();

  // Event listeners
  $("#contactSendBtn").click(sendMessage);

  $(document).on("click", ".message", function () {
    $(".message").removeClass("selected");
    $(this).addClass("selected");
    contactReplyTo = $(this).text();
    contactReplyToElement = $(this).clone();
  });

  $("#contactPlusBtn").click(() => {
    $(".hidecontactmsgbtns, .minuscontactmsg").show();
    $(".pluscontactbtm").hide();
    $(".bottombtns_sectioncontact").addClass('spacetophiddendiv');
  });

  $("#contactMinusBtn").hide();
  $("#contactMinusBtn").click(() => {
    $("#contactInputArea").show();
    $(".bottombtns_sectioncontact").removeClass('spacetophiddendiv');
    $(".bottombtns_sectioncontact").removeClass('topspade_pad maptopspade_pad propertysecadd galleryspaceadd userspaceadd');
    $(".pluscontactbtm").show();
    $(".minuscontactmsg, .hidecontactmsgbtns").hide();
  });

  const sectionButtons = {
    '.mapimg a': 'maptopspade_pad',
    '.galleryimg a': 'galleryspaceadd',
    '.dateimg a': 'propertysecadd',
    '.userimg a': 'userspaceadd',
    '.cameraimg a': 'cameraspaceadd',
  };

  Object.entries(sectionButtons).forEach(([selector, className]) => {
    $(selector).click(() => {
      const container = $(".bottombtns_sectioncontact");
      $(".bottombtns_sectioncontact").removeClass('spacetophiddendiv');
      container.removeClass('propertysecadd maptopspade_pad galleryspaceadd userspaceadd cameraspaceadd');
      container.addClass(className);
    });
  });

  $("#contactEmojiBtn").click(e => {
    e.stopPropagation();
    $("#contactEmojiPicker").toggle();
  });

  $("#contactEmojiContainer").on("click", ".emoji", function () {
    messageInput.val(messageInput.val() + $(this).text()).focus();
    $("#contactEmojiPicker").hide();
  });

  $(document).on("click", function (e) {
    if (!$(e.target).closest("#contactEmojiPicker, #contactEmojiBtn").length) {
      $("#contactEmojiPicker").hide();
    }
    if (!$(e.target).closest(".hidecontactmsgbtns, #contactPlusBtn").length) {
      $(".hidecontactmsgbtns, .minuscontactmsg").hide();
      $(".pluscontactbtm").show();
      $(".bottombtns_sectioncontact").removeClass('spacetophiddendiv');
      $(".bottombtns_sectioncontact").removeClass('propertysecadd maptopspade_pad galleryspaceadd userspaceadd cameraspaceadd');
    }
  });

  // Typing indicator
  messageInput.on("focus input", () => typingIndicator.show());
  messageInput.on("blur", () => typingIndicator.hide());

</script>


</body>
</html>




